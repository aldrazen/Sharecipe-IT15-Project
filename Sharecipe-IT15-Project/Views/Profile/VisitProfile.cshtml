@model Sharecipe_IT15_Project.Models.ProfileViewModel


<div class="p-5 text-center cover-photo shadow-1-strong rounded-bottom"
     style="background-image: url(/CoverPhotos/@Model.User.coverPic); width:100%; height: 500px; background-size:cover; object-fit:cover;">
</div>
<div class="d-flex justify-content-center">
    <img src="/ProfileImages/@Model.User.ProfPIc"
         alt="avatar"
         class="rounded-circle"
         style="width: 200px;height: 200px;object-fit: cover;margin-top: -105px;" />
</div>
<div class="text-center" style="margin-top: 10px">
    <h3 class="fw-bold">@Model.User.FullName</h3>
    <p>@Model.User.Bio</p>
</div>

<div class="d-flex flex-column justify-content-start w-100 mx-auto" style="max-width: 900px">
    @foreach (var post in Model.Posts)
    {
        <div class="d-flex flex-column justify-content-start w-100 mx-auto mb-3" style="max-width: 900px">
            <div id="post1" class="bg-white p-4 shadow mt-3 rounded">
                <div class="row d-flex align-items-center text-nowrap">
                    <div class="col-lg-6 d-flex justify-content-start align-items-center">
                        <img src="/ProfileImages/@post.UserPfp" alt="avatar" class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover" />
                        <div class="row">
                            <div class="col">
                                <p class="m-0 fw-bold">@post.UserName</p>
                                <span class="text-muted fs-7">@post.PostTime</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    <div>
                        <p style="font-weight: bold">@post.postCaption</p>
                        <img src="/PostImages/@post.postImage" alt="" class="img-fluid" style="width: 100%" />
                        <div class="ingredients" style="margin-top: 15px">
                            <h5>Ingredients</h5>
                            <ol class="list-group">
                                <li class="list-group-item">@post.postIngredients</li>
                            </ol>
                            <div style="margin-bottom: 20px"></div>
                        </div>
                        <div class="directions">
                            <h5>Directions</h5>
                            <ol class="list-group">
                                <li class="list-group-item">@post.postDirections</li>
                            </ol>
                            <div style="margin-bottom: 20px"></div>
                        </div>
                        <div class="prepTime">
                            <h5>Prep Time</h5>
                            <ul class="list-group">
                                <li class="list-group-item">@post.prepTime</li>
                            </ul>
                            <div style="margin-bottom: 20px"></div>
                        </div>
                        <div class="cookTime">
                            <h5>Cook Time</h5>
                            <ul class="list-group">
                                <li class="list-group-item">@post.cookTime</li>
                            </ul>
                            <div style="margin-bottom: 20px"></div>
                        </div>
                        <div class="serving">
                            <h5>Serving</h5>
                            <ul class="list-group">
                                <li class="list-group-item">@post.serving</li>
                            </ul>
                            <div style="margin-bottom: 20px"></div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mt-2">
                        <button type="button" class="btn btn-light likeButton bg-transparent border-none" data-post-id="@post.PostId">
                            <i class="fas fa-heart likeIcon" data-post-id="@post.PostId" style="color: gray; font-size: 1.8rem"></i>
                        </button>
                        <p class="m-0 fs-5 me-2">@post.postLikes</p>
                    </div>
                    <script>
                        $(document).on('click', '.likeButton', function () {
                            var postId = $(this).data('post-id');
                            var likeIcon = $('.likeIcon[data-post-id="' + postId + '"]');
                            var isLiked = likeIcon.css('color') === 'rgb(255, 0, 0)'; // Check if the color is red
                            likeIcon.css('color', isLiked ? 'gray' : 'red');
                        });
                    </script>
                </div>
            </div>
        </div>
    }
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
   
}